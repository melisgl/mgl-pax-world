<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
<title>Trivial UTF-8 Manual
</title>
<link type='text/css' href='style.css' rel='stylesheet'>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width">
   <script src="jquery.min.js"></script>
<script src="toc.min.js"></script>
<script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         inlineMath: [['$','$']],
         processEscapes: true
       }
     });
   </script>
   <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
   </script>
   
</head>
<body>
<div id="content-container">
<div id="toc">
<div id="toc-header"><ul><li><a href="index.html">PAX World</a></li></ul></div>
<div id="page-toc">
</div>
<div id="toc-footer"><ul><li><a href="https://github.com/melisgl/mgl-pax">[generated by MGL-PAX]</a></li></ul></div>
</div>
<div id="content">
<p><a id="x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-MANUAL-20MGL-PAX-3ASECTION-29"></a>
<a id="TRIVIAL-UTF-8:@TRIVIAL-UTF-8-MANUAL%20MGL-PAX:SECTION"></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM" title="&quot;trivial-utf-8&quot; ASDF/SYSTEM:SYSTEM">&#8594;</a> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/doc.lisp#L3">&#955;</a></span></span></p>

<h1><a href="trivial-utf-8-manual.html">Trivial UTF-8 Manual</a></h1>

<h2>Table of Contents</h2>

<ul>
<li><a href="#%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM" title="&quot;trivial-utf-8&quot; ASDF/SYSTEM:SYSTEM">1 The trivial-utf-8 ASDF System</a></li>
<li><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION" title="Introduction">2 Introduction</a></li>
<li><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION" title="Links">3 Links</a></li>
<li><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-REFERENCE%20MGL-PAX:SECTION" title="Reference">4 Reference</a></li>
</ul>

<h6>[in package TRIVIAL-UTF-8]</h6>

<p><a id="x-28-22trivial-utf-8-22-20ASDF-2FSYSTEM-3ASYSTEM-29"></a>
<a id="%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM"></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8592;</a> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION" title="Introduction">&#8594;</a> <a href="#%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM" title="&quot;trivial-utf-8&quot; ASDF/SYSTEM:SYSTEM">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.asd#L1">&#955;</a></span></span></p>

<h2><a href="#%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM">1 The trivial-utf-8 ASDF System</a></h2>

<ul>
<li>Description: A small library for doing UTF-8-based input and output.</li>
<li>Licence: ZLIB</li>
<li>Author: Marijn Haverbeke <a href="m&#x61;&#105;l&#x74;&#111;:&#x6D;&#97;r&#x69;&#106;n&#x68;&#64;g&#x6D;&#97;i&#x6C;&#46;c&#x6F;&#109;">m&#x61;&#105;l&#x74;&#111;:&#x6D;&#97;r&#x69;&#106;n&#x68;&#64;g&#x6D;&#97;i&#x6C;&#46;c&#x6F;&#109;</a></li>
<li>Maintainer: GÃ¡bor Melis <a href="m&#x61;&#105;l&#x74;&#111;:&#x6D;&#101;g&#x61;&#64;r&#x65;&#116;e&#x73;&#46;h&#x75;">m&#x61;&#105;l&#x74;&#111;:&#x6D;&#101;g&#x61;&#64;r&#x65;&#116;e&#x73;&#46;h&#x75;</a></li>
<li>Homepage: <a href="https://common-lisp.net/project/trivial-utf-8/" >https://common-lisp.net/project/trivial-utf-8/</a></li>
<li>Bug tracker: <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-/issues" >https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-/issues</a></li>
<li>Source control: <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8.git" >GIT</a></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-INTRODUCTION-20MGL-PAX-3ASECTION-29"></a>
<a id="TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION"></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#%22trivial-utf-8%22%20ASDF%2FSYSTEM:SYSTEM" title="&quot;trivial-utf-8&quot; ASDF/SYSTEM:SYSTEM">&#8592;</a> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION" title="Links">&#8594;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION" title="Introduction">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/doc.lisp#L9">&#955;</a></span></span></p>

<h2><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION">2 Introduction</a></h2>

<p>Trivial UTF-8 is a small library for doing UTF-8-based in- and
output on a Lisp implementation that already supports Unicode -
meaning <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_char_c.htm" title="CHAR-CODE (MGL-PAX:CLHS FUNCTION)"><code>char-code</code></a> and <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_code_c.htm" title="CODE-CHAR (MGL-PAX:CLHS FUNCTION)"><code>code-char</code></a> deal with Unicode character codes.</p>

<p>The rationale for the existence of this library is that while
Unicode-enabled implementations usually do provide some kind of
interface to dealing with character encodings, these are typically
not terribly flexible or uniform.</p>

<p>The Babel library solves a similar problem while
understanding more encodings. Trivial UTF-8 was written before Babel
existed, but for new projects you might be better off going with
Babel. The one plus that Trivial UTF-8 has is that it doesn't depend
on any other libraries.</p>

<p><a id="x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-LINKS-20MGL-PAX-3ASECTION-29"></a>
<a id="TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION"></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-INTRODUCTION%20MGL-PAX:SECTION" title="Introduction">&#8592;</a> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-REFERENCE%20MGL-PAX:SECTION" title="Reference">&#8594;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION" title="Links">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/doc.lisp#L27">&#955;</a></span></span></p>

<h2><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION">3 Links</a></h2>

<p>Here is the <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8" >official repository</a> and the
<a href="http://melisgl.github.io/mgl-pax-world/trivial-utf-8-manual.html" >HTML documentation</a> for the latest version.</p>

<p><a id="x-28TRIVIAL-UTF-8-3A-40TRIVIAL-UTF-8-REFERENCE-20MGL-PAX-3ASECTION-29"></a>
<a id="TRIVIAL-UTF-8:@TRIVIAL-UTF-8-REFERENCE%20MGL-PAX:SECTION"></a></p>

<p><span class="outer-navigation"><span class="navigation"> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-LINKS%20MGL-PAX:SECTION" title="Links">&#8592;</a> <a href="trivial-utf-8-manual.html" title="Trivial UTF-8 Manual">&#8593;</a> <a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-REFERENCE%20MGL-PAX:SECTION" title="Reference">&#8634;</a> <a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/doc.lisp#L34">&#955;</a></span></span></p>

<h2><a href="#TRIVIAL-UTF-8:@TRIVIAL-UTF-8-REFERENCE%20MGL-PAX:SECTION">4 Reference</a></h2>

<p><a id="x-28TRIVIAL-UTF-8-3AUTF-8-BYTE-LENGTH-20FUNCTION-29"></a>
<a id="TRIVIAL-UTF-8:UTF-8-BYTE-LENGTH%20FUNCTION"></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L31">[function]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:UTF-8-BYTE-LENGTH%20FUNCTION" >utf-8-byte-length</a></span></span> <span class="locative-args">string</span></span></p>

<p>Calculate the amount of bytes needed to encode <code>string</code>.</p></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3ASTRING-TO-UTF-8-BYTES-20FUNCTION-29"></a>
<a id="TRIVIAL-UTF-8:STRING-TO-UTF-8-BYTES%20FUNCTION"></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L69">[function]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:STRING-TO-UTF-8-BYTES%20FUNCTION" >string-to-utf-8-bytes</a></span></span> <span class="locative-args">string &amp;key null-terminate</span></span></p>

<p>Convert <code>string</code> into an array of unsigned bytes containing its UTF-8
representation. If <code>null-terminate</code>, add an extra 0 byte at the end.</p></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3AUTF-8-GROUP-SIZE-20FUNCTION-29"></a>
<a id="TRIVIAL-UTF-8:UTF-8-GROUP-SIZE%20FUNCTION"></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L112">[function]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:UTF-8-GROUP-SIZE%20FUNCTION" >utf-8-group-size</a></span></span> <span class="locative-args">byte</span></span></p>

<p>Determine the amount of bytes that are part of the character whose
encoding starts with <code>byte</code>. May signal <a href="#TRIVIAL-UTF-8:UTF-8-DECODING-ERROR%20CONDITION" title="TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION"><code>utf-8-decoding-error</code></a>.</p></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3AUTF-8-BYTES-TO-STRING-20FUNCTION-29"></a>
<a id="TRIVIAL-UTF-8:UTF-8-BYTES-TO-STRING%20FUNCTION"></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L176">[function]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:UTF-8-BYTES-TO-STRING%20FUNCTION" >utf-8-bytes-to-string</a></span></span> <span class="locative-args">bytes &amp;key (start 0) (end (length bytes))</span></span></p>

<p>Convert the <code>start</code>, <code>end</code> subsequence of the array of <code>bytes</code> containing
UTF-8 encoded characters to a <a href="http://www.lispworks.com/documentation/HyperSpec/Body/t_string.htm" title="STRING (MGL-PAX:CLHS CLASS)"><code>string</code></a>. The element type of
<code>bytes</code> may be anything as long as it can be <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_coerce.htm" title="COERCE (MGL-PAX:CLHS FUNCTION)"><code>coerce</code></a>d into
an <code>(unsigned-bytes 8)</code> array. May signal <a href="#TRIVIAL-UTF-8:UTF-8-DECODING-ERROR%20CONDITION" title="TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION"><code>utf-8-decoding-error</code></a>.</p></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3AREAD-UTF-8-STRING-20FUNCTION-29"></a>
<a id="TRIVIAL-UTF-8:READ-UTF-8-STRING%20FUNCTION"></a></p>

<ul>
<li><p><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L203">[function]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:READ-UTF-8-STRING%20FUNCTION" >read-utf-8-string</a></span></span> <span class="locative-args">input &amp;key null-terminated stop-at-eof (char-length -1) (byte-length -1)</span></span></p>

<p>Read UTF-8 encoded data from <code>input</code>, a byte stream, and construct a
string with the characters found. When <code>null-terminated</code> is given,
stop reading at a null character. If <code>stop-at-eof</code>, then stop at
<a href="http://www.lispworks.com/documentation/HyperSpec/Body/e_end_of.htm" title="END-OF-FILE (MGL-PAX:CLHS CONDITION)"><code>end-of-file</code></a> without raising an error. The <code>char-length</code> and
<code>byte-length</code> parameters can be used to specify the max amount of
characters or bytes to read, where -1 means no limit. May signal
<a href="#TRIVIAL-UTF-8:UTF-8-DECODING-ERROR%20CONDITION" title="TRIVIAL-UTF-8:UTF-8-DECODING-ERROR CONDITION"><code>utf-8-decoding-error</code></a>.</p></li>
</ul>

<p><a id="x-28TRIVIAL-UTF-8-3AUTF-8-DECODING-ERROR-20CONDITION-29"></a>
<a id="TRIVIAL-UTF-8:UTF-8-DECODING-ERROR%20CONDITION"></a></p>

<ul>
<li><span class=reference-bullet><span class=reference><span class="locative-type"><a href="https://gitlab.common-lisp.net/trivial-utf-8/trivial-utf-8/-//blob/6ca9943588cbc61ad22a3c1ff81beb371e122394/trivial-utf-8.lisp#L104">[condition]</a></span> <span class="reference-object"><a href="#TRIVIAL-UTF-8:UTF-8-DECODING-ERROR%20CONDITION" >utf-8-decoding-error</a></span></span> <span class="locative-args"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/e_smp_er.htm" title="SIMPLE-ERROR (MGL-PAX:CLHS CONDITION)">simple-error</a></span></span></li>
</ul>
  </div>
</div>
<script>$('#page-toc').toc({'selectors': 'h1,h2,h3,h4'});</script>
</body>
</html>
